{"remainingRequest":"/Users/jth/IdeaProjects/GameGem/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jth/IdeaProjects/GameGem/src/components/offerList/List.vue?vue&type=style&index=0&id=5c02b523&lang=scss&scoped=true&","dependencies":[{"path":"/Users/jth/IdeaProjects/GameGem/src/components/offerList/List.vue","mtime":1625473258000},{"path":"/Users/jth/IdeaProjects/GameGem/node_modules/css-loader/dist/cjs.js","mtime":1625748531204},{"path":"/Users/jth/IdeaProjects/GameGem/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1625748531629},{"path":"/Users/jth/IdeaProjects/GameGem/node_modules/postcss-loader/src/index.js","mtime":1621497883006},{"path":"/Users/jth/IdeaProjects/GameGem/node_modules/sass-loader/dist/cjs.js","mtime":1625748534530},{"path":"/Users/jth/IdeaProjects/GameGem/node_modules/cache-loader/dist/cjs.js","mtime":1625748525933},{"path":"/Users/jth/IdeaProjects/GameGem/node_modules/vue-loader/lib/index.js","mtime":1625748531629}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmxpc3QtY29udGFpbmVyIHsKICBoZWlnaHQ6IGNhbGMoCiAgICAxMDAlIC0gNThweAogICk7IC8qIGhlYWRlcmBzIGhlaWdodCA0OHB4OyBwYWdlIHBhZGRpbmdgcyBoZWlnaHQgMTBweCAgKi8KCiAgLmxpc3QtdWwgewogICAgbGlzdC1zdHlsZS10eXBlOiBub25lOwogICAgcGFkZGluZzogMCAxMHB4OwoKICAgIC5saXN0LWl0ZW0gewogICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAmOm50aC1jaGlsZCgxKSB7CiAgICAgICAgbWFyZ2luLXRvcDogMDsKICAgICAgfQoKICAgICAgLml0ZW0tY29udGFpbmVyIHsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgICAgICAgZmxleC13cmFwOiB3cmFwOwogICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsKCiAgICAgICAgLmljb24tY29udGFpbmVyIHsKICAgICAgICAgIHdpZHRoOiAxMjVweDsKICAgICAgICAgIGhlaWdodDogMTI1cHg7CiAgICAgICAgICBwYWRkaW5nOiAxMHB4OwoKICAgICAgICAgIGltZyB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAuY29udGVudC1jb250YWluZXIgewogICAgICAgICAgZmxleDogMTsKICAgICAgICAgIG1pbi13aWR0aDogMzc1cHg7CiAgICAgICAgfQoKICAgICAgICAuYnV0dG9uLWNvbnRhaW5lciB7CiAgICAgICAgICB3aWR0aDogMTI1cHg7CiAgICAgICAgICBwYWRkaW5nOiAxMHB4OwoKICAgICAgICAgIGJ1dHRvbiB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgLm5vLW1vcmUsCiAgLmxvYWRpbmcgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgZm9udC1zaXplOiAxNHB4OwogICAgY29sb3I6ICM0MjQyNDI7CiAgICBvcGFjaXR5OiAwLjc7CiAgfQp9Cg=="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"List.vue","sourceRoot":"src/components/offerList","sourcesContent":["<template>\n  <div class=\"list-container infinite-list-wrapper\" style=\"overflow: auto\">\n    <ul\n      class=\"list-ul\"\n      :infinite-scroll-disabled=\"disabled\"\n      v-infinite-scroll=\"getList\"\n    >\n      <template v-for=\"(item, index) in dataList\">\n        <li :key=\"index\" class=\"list-item\">\n          <el-card :body-style=\"{ padding: '10px' }\">\n            <el-row class=\"item-container\">\n              <div class=\"icon-container\">\n                <img :src=\"item.icon\" />\n              </div>\n\n              <div class=\"content-container\">\n                <el-row class=\"name\">{{ item.name }}</el-row>\n\n                <el-divider />\n\n                <el-row class=\"description\">{{ item.des }}</el-row>\n              </div>\n\n              <div class=\"button-container\">\n                <el-button\n                  type=\"success\"\n                  icon=\"el-icon-coin\"\n                  round\n                  @click=\"addTask(item)\"\n                >\n                  {{ item.goal }}\n                </el-button>\n              </div>\n            </el-row>\n          </el-card>\n        </li>\n      </template>\n    </ul>\n\n    <div v-if=\"loading\" class=\"loading\">\n      <i class=\"el-icon-loading\" />\n      loading...\n    </div>\n\n    <div v-if=\"!loading && noMore\" class=\"no-more\">\n      -- no more data --\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getList, addTask } from '@/api'\n\nexport default {\n  name: 'List',\n  data() {\n    return {\n      params: {\n        category: '', // category: 0-App 1-Survey 2-Trail\n        delFlag: '',\n        des: '',\n        deviceType: '', // device: 0-android 1-iphone 2-ipad\n        estimateDays: '', // sort by: 0-Most Popular 1-High to Low 2-Level of Difficulty\n        goal: '',\n        icon: '',\n        id: '',\n        kpi: '',\n        name: '',\n        pageNo: 1,\n        pageSize: 15,\n        pkg: '',\n        status: '',\n        weight: ''\n      },\n      total: 0,\n      dataList: [],\n      count: 10,\n      loading: false\n    }\n  },\n  computed: {\n    noMore() {\n      return this.dataList.length >= this.total\n    },\n    disabled() {\n      return this.loading || this.noMore\n    }\n  },\n  created() {\n    this.init()\n  },\n  methods: {\n    init: function () {\n      this.params.pageNo = 1\n\n      this.getList('init')\n    },\n\n    doSearch: function (params) {\n      this.params.pageNo = 1\n      Object.keys(params).map(key => {\n        this.params[key] = params[key]\n      })\n      this.getList('init')\n    },\n\n    getList: function (type) {\n      this.loading = true\n      getList(this.params).then(res => {\n        this.loading = false\n        if (res && res.code === 200) {\n          const result = res.result\n          this.total = result.total\n\n          if (type === 'init') {\n            this.dataList = result.records\n          } else {\n            this.dataList.push(result.records)\n          }\n\n          this.params.pageNo += 1\n        } else {\n          this.total = 0\n\n          if (type === 'init') {\n            this.dataList = []\n          }\n        }\n      })\n    },\n\n    addTask: function (item) {\n      const params = {\n        offerId: item.id,\n        playerId: window.sessionStorage.getItem('GameGemUID')\n      }\n      addTask(params).then(res => {\n        if (res && res.code === 200) {\n          this.$notify({\n            title: '',\n            message: res.message,\n            type: 'success'\n          })\n\n          this.doSearch()\n        } else {\n          this.$notify({\n            title: '',\n            message: res.message,\n            type: 'error'\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.list-container {\n  height: calc(\n    100% - 58px\n  ); /* header`s height 48px; page padding`s height 10px  */\n\n  .list-ul {\n    list-style-type: none;\n    padding: 0 10px;\n\n    .list-item {\n      margin-top: 10px;\n      &:nth-child(1) {\n        margin-top: 0;\n      }\n\n      .item-container {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: flex-start;\n\n        .icon-container {\n          width: 125px;\n          height: 125px;\n          padding: 10px;\n\n          img {\n            width: 100%;\n            height: 100%;\n          }\n        }\n\n        .content-container {\n          flex: 1;\n          min-width: 375px;\n        }\n\n        .button-container {\n          width: 125px;\n          padding: 10px;\n\n          button {\n            width: 100%;\n          }\n        }\n      }\n    }\n  }\n\n  .no-more,\n  .loading {\n    text-align: center;\n    font-size: 14px;\n    color: #424242;\n    opacity: 0.7;\n  }\n}\n</style>\n"]}]}