{"remainingRequest":"/Users/jth/IdeaProjects/GameGem/node_modules/babel-loader/lib/index.js!/Users/jth/IdeaProjects/GameGem/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jth/IdeaProjects/GameGem/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jth/IdeaProjects/GameGem/src/components/offerList/List.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jth/IdeaProjects/GameGem/src/components/offerList/List.vue","mtime":1625473258000},{"path":"/Users/jth/IdeaProjects/GameGem/node_modules/cache-loader/dist/cjs.js","mtime":1625748525933},{"path":"/Users/jth/IdeaProjects/GameGem/node_modules/babel-loader/lib/index.js","mtime":1625748526069},{"path":"/Users/jth/IdeaProjects/GameGem/node_modules/cache-loader/dist/cjs.js","mtime":1625748525933},{"path":"/Users/jth/IdeaProjects/GameGem/node_modules/vue-loader/lib/index.js","mtime":1625748531629}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRMaXN0IGFzIF9nZXRMaXN0LCBhZGRUYXNrIGFzIF9hZGRUYXNrIH0gZnJvbSAnQC9hcGknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xpc3QnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYXJhbXM6IHsKICAgICAgICBjYXRlZ29yeTogJycsCiAgICAgICAgLy8gY2F0ZWdvcnk6IDAtQXBwIDEtU3VydmV5IDItVHJhaWwKICAgICAgICBkZWxGbGFnOiAnJywKICAgICAgICBkZXM6ICcnLAogICAgICAgIGRldmljZVR5cGU6ICcnLAogICAgICAgIC8vIGRldmljZTogMC1hbmRyb2lkIDEtaXBob25lIDItaXBhZAogICAgICAgIGVzdGltYXRlRGF5czogJycsCiAgICAgICAgLy8gc29ydCBieTogMC1Nb3N0IFBvcHVsYXIgMS1IaWdoIHRvIExvdyAyLUxldmVsIG9mIERpZmZpY3VsdHkKICAgICAgICBnb2FsOiAnJywKICAgICAgICBpY29uOiAnJywKICAgICAgICBpZDogJycsCiAgICAgICAga3BpOiAnJywKICAgICAgICBuYW1lOiAnJywKICAgICAgICBwYWdlTm86IDEsCiAgICAgICAgcGFnZVNpemU6IDE1LAogICAgICAgIHBrZzogJycsCiAgICAgICAgc3RhdHVzOiAnJywKICAgICAgICB3ZWlnaHQ6ICcnCiAgICAgIH0sCiAgICAgIHRvdGFsOiAwLAogICAgICBkYXRhTGlzdDogW10sCiAgICAgIGNvdW50OiAxMCwKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbm9Nb3JlOiBmdW5jdGlvbiBub01vcmUoKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGFMaXN0Lmxlbmd0aCA+PSB0aGlzLnRvdGFsOwogICAgfSwKICAgIGRpc2FibGVkOiBmdW5jdGlvbiBkaXNhYmxlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMubG9hZGluZyB8fCB0aGlzLm5vTW9yZTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHRoaXMucGFyYW1zLnBhZ2VObyA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgnaW5pdCcpOwogICAgfSwKICAgIGRvU2VhcmNoOiBmdW5jdGlvbiBkb1NlYXJjaChwYXJhbXMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMucGFyYW1zLnBhZ2VObyA9IDE7CiAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfdGhpcy5wYXJhbXNba2V5XSA9IHBhcmFtc1trZXldOwogICAgICB9KTsKICAgICAgdGhpcy5nZXRMaXN0KCdpbml0Jyk7CiAgICB9LAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCh0eXBlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKCiAgICAgIF9nZXRMaXN0KHRoaXMucGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBpZiAocmVzICYmIHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHZhciByZXN1bHQgPSByZXMucmVzdWx0OwogICAgICAgICAgX3RoaXMyLnRvdGFsID0gcmVzdWx0LnRvdGFsOwoKICAgICAgICAgIGlmICh0eXBlID09PSAnaW5pdCcpIHsKICAgICAgICAgICAgX3RoaXMyLmRhdGFMaXN0ID0gcmVzdWx0LnJlY29yZHM7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuZGF0YUxpc3QucHVzaChyZXN1bHQucmVjb3Jkcyk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMyLnBhcmFtcy5wYWdlTm8gKz0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLnRvdGFsID0gMDsKCiAgICAgICAgICBpZiAodHlwZSA9PT0gJ2luaXQnKSB7CiAgICAgICAgICAgIF90aGlzMi5kYXRhTGlzdCA9IFtdOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYWRkVGFzazogZnVuY3Rpb24gYWRkVGFzayhpdGVtKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBvZmZlcklkOiBpdGVtLmlkLAogICAgICAgIHBsYXllcklkOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnR2FtZUdlbVVJRCcpCiAgICAgIH07CgogICAgICBfYWRkVGFzayhwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMgJiYgcmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXMzLiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJycsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMy5kb1NlYXJjaCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,SAAA,OAAA,IAAA,QAAA,EAAA,OAAA,IAAA,QAAA,QAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AACA;AACA,QAAA,OAAA,EAAA,EAFA;AAGA,QAAA,GAAA,EAAA,EAHA;AAIA,QAAA,UAAA,EAAA,EAJA;AAIA;AACA,QAAA,YAAA,EAAA,EALA;AAKA;AACA,QAAA,IAAA,EAAA,EANA;AAOA,QAAA,IAAA,EAAA,EAPA;AAQA,QAAA,EAAA,EAAA,EARA;AASA,QAAA,GAAA,EAAA,EATA;AAUA,QAAA,IAAA,EAAA,EAVA;AAWA,QAAA,MAAA,EAAA,CAXA;AAYA,QAAA,QAAA,EAAA,EAZA;AAaA,QAAA,GAAA,EAAA,EAbA;AAcA,QAAA,MAAA,EAAA,EAdA;AAeA,QAAA,MAAA,EAAA;AAfA,OADA;AAkBA,MAAA,KAAA,EAAA,CAlBA;AAmBA,MAAA,QAAA,EAAA,EAnBA;AAoBA,MAAA,KAAA,EAAA,EApBA;AAqBA,MAAA,OAAA,EAAA;AArBA,KAAA;AAuBA,GA1BA;AA2BA,EAAA,QAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,aAAA,KAAA,QAAA,CAAA,MAAA,IAAA,KAAA,KAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,aAAA,KAAA,OAAA,IAAA,KAAA,MAAA;AACA;AANA,GA3BA;AAmCA,EAAA,OAnCA,qBAmCA;AACA,SAAA,IAAA;AACA,GArCA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,IAAA,EAAA,gBAAA;AACA,WAAA,MAAA,CAAA,MAAA,GAAA,CAAA;AAEA,WAAA,OAAA,CAAA,MAAA;AACA,KALA;AAOA,IAAA,QAAA,EAAA,kBAAA,MAAA,EAAA;AAAA;;AACA,WAAA,MAAA,CAAA,MAAA,GAAA,CAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,MAAA,EAAA,GAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,GAAA,IAAA,MAAA,CAAA,GAAA,CAAA;AACA,OAFA;AAGA,WAAA,OAAA,CAAA,MAAA;AACA,KAbA;AAeA,IAAA,OAAA,EAAA,iBAAA,IAAA,EAAA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;;AACA,MAAA,QAAA,CAAA,KAAA,MAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,KAAA;;AACA,YAAA,GAAA,IAAA,GAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,cAAA,MAAA,GAAA,GAAA,CAAA,MAAA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,MAAA,CAAA,KAAA;;AAEA,cAAA,IAAA,KAAA,MAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,GAAA,MAAA,CAAA,OAAA;AACA,WAFA,MAEA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,MAAA,CAAA,OAAA;AACA;;AAEA,UAAA,MAAA,CAAA,MAAA,CAAA,MAAA,IAAA,CAAA;AACA,SAXA,MAWA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,CAAA;;AAEA,cAAA,IAAA,KAAA,MAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,GAAA,EAAA;AACA;AACA;AACA,OApBA;AAqBA,KAtCA;AAwCA,IAAA,OAAA,EAAA,iBAAA,IAAA,EAAA;AAAA;;AACA,UAAA,MAAA,GAAA;AACA,QAAA,OAAA,EAAA,IAAA,CAAA,EADA;AAEA,QAAA,QAAA,EAAA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,YAAA;AAFA,OAAA;;AAIA,MAAA,QAAA,CAAA,MAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,IAAA,GAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA;AACA,YAAA,KAAA,EAAA,EADA;AAEA,YAAA,OAAA,EAAA,GAAA,CAAA,OAFA;AAGA,YAAA,IAAA,EAAA;AAHA,WAAA;;AAMA,UAAA,MAAA,CAAA,QAAA;AACA,SARA,MAQA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA;AACA,YAAA,KAAA,EAAA,EADA;AAEA,YAAA,OAAA,EAAA,GAAA,CAAA,OAFA;AAGA,YAAA,IAAA,EAAA;AAHA,WAAA;AAKA;AACA,OAhBA;AAiBA;AA9DA;AAtCA,CAAA","sourcesContent":["<template>\n  <div class=\"list-container infinite-list-wrapper\" style=\"overflow: auto\">\n    <ul\n      class=\"list-ul\"\n      :infinite-scroll-disabled=\"disabled\"\n      v-infinite-scroll=\"getList\"\n    >\n      <template v-for=\"(item, index) in dataList\">\n        <li :key=\"index\" class=\"list-item\">\n          <el-card :body-style=\"{ padding: '10px' }\">\n            <el-row class=\"item-container\">\n              <div class=\"icon-container\">\n                <img :src=\"item.icon\" />\n              </div>\n\n              <div class=\"content-container\">\n                <el-row class=\"name\">{{ item.name }}</el-row>\n\n                <el-divider />\n\n                <el-row class=\"description\">{{ item.des }}</el-row>\n              </div>\n\n              <div class=\"button-container\">\n                <el-button\n                  type=\"success\"\n                  icon=\"el-icon-coin\"\n                  round\n                  @click=\"addTask(item)\"\n                >\n                  {{ item.goal }}\n                </el-button>\n              </div>\n            </el-row>\n          </el-card>\n        </li>\n      </template>\n    </ul>\n\n    <div v-if=\"loading\" class=\"loading\">\n      <i class=\"el-icon-loading\" />\n      loading...\n    </div>\n\n    <div v-if=\"!loading && noMore\" class=\"no-more\">\n      -- no more data --\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getList, addTask } from '@/api'\n\nexport default {\n  name: 'List',\n  data() {\n    return {\n      params: {\n        category: '', // category: 0-App 1-Survey 2-Trail\n        delFlag: '',\n        des: '',\n        deviceType: '', // device: 0-android 1-iphone 2-ipad\n        estimateDays: '', // sort by: 0-Most Popular 1-High to Low 2-Level of Difficulty\n        goal: '',\n        icon: '',\n        id: '',\n        kpi: '',\n        name: '',\n        pageNo: 1,\n        pageSize: 15,\n        pkg: '',\n        status: '',\n        weight: ''\n      },\n      total: 0,\n      dataList: [],\n      count: 10,\n      loading: false\n    }\n  },\n  computed: {\n    noMore() {\n      return this.dataList.length >= this.total\n    },\n    disabled() {\n      return this.loading || this.noMore\n    }\n  },\n  created() {\n    this.init()\n  },\n  methods: {\n    init: function () {\n      this.params.pageNo = 1\n\n      this.getList('init')\n    },\n\n    doSearch: function (params) {\n      this.params.pageNo = 1\n      Object.keys(params).map(key => {\n        this.params[key] = params[key]\n      })\n      this.getList('init')\n    },\n\n    getList: function (type) {\n      this.loading = true\n      getList(this.params).then(res => {\n        this.loading = false\n        if (res && res.code === 200) {\n          const result = res.result\n          this.total = result.total\n\n          if (type === 'init') {\n            this.dataList = result.records\n          } else {\n            this.dataList.push(result.records)\n          }\n\n          this.params.pageNo += 1\n        } else {\n          this.total = 0\n\n          if (type === 'init') {\n            this.dataList = []\n          }\n        }\n      })\n    },\n\n    addTask: function (item) {\n      const params = {\n        offerId: item.id,\n        playerId: window.sessionStorage.getItem('GameGemUID')\n      }\n      addTask(params).then(res => {\n        if (res && res.code === 200) {\n          this.$notify({\n            title: '',\n            message: res.message,\n            type: 'success'\n          })\n\n          this.doSearch()\n        } else {\n          this.$notify({\n            title: '',\n            message: res.message,\n            type: 'error'\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.list-container {\n  height: calc(\n    100% - 58px\n  ); /* header`s height 48px; page padding`s height 10px  */\n\n  .list-ul {\n    list-style-type: none;\n    padding: 0 10px;\n\n    .list-item {\n      margin-top: 10px;\n      &:nth-child(1) {\n        margin-top: 0;\n      }\n\n      .item-container {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: flex-start;\n\n        .icon-container {\n          width: 125px;\n          height: 125px;\n          padding: 10px;\n\n          img {\n            width: 100%;\n            height: 100%;\n          }\n        }\n\n        .content-container {\n          flex: 1;\n          min-width: 375px;\n        }\n\n        .button-container {\n          width: 125px;\n          padding: 10px;\n\n          button {\n            width: 100%;\n          }\n        }\n      }\n    }\n  }\n\n  .no-more,\n  .loading {\n    text-align: center;\n    font-size: 14px;\n    color: #424242;\n    opacity: 0.7;\n  }\n}\n</style>\n"],"sourceRoot":"src/components/offerList"}]}